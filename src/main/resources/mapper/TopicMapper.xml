<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pc.dao.TopicMapper">
    <sql id="my_news" >
        select nid, ntid, ntitle, nauthor, ncreateDate, npicPath, ncontent, nmodifyDate, nsummary from news
    </sql>
    <sql id="my_topic">
        select tid, tname from topic
    </sql>
    <sql id="my_users">
        select uid, uname, upwd from users
    </sql>
    <sql id="my_comments">
        select cid, cnid, ccontent, cdate, cip, cauthor from comments
    </sql>
    <!---->
    <!--添加新闻-->
    <insert id="InsertNew" parameterType="news" >
        insert into news(ntid, ntitle, nauthor, ncreateDate, npicPath, ncontent, nmodifyDate, nsummary)
        value (#{ntid},#{ntitle},#{nauthor},#{ncreateDate},#{npicPath},#{ncontent},#{nmodifyDate},#{nsummary})
    </insert>
    <!--添加主题-->
    <insert id="InsertTopic" parameterType="topic">
        insert into topic(tname) value (#{tname})
    </insert>
    <!--分页查询-->
    <select id="SelectNewsfy" parameterType="int" resultType="news">
        select nid, ntid, ntitle, nauthor, ncreateDate, npicPath, ncontent, nmodifyDate, nsummary from news
        limit #{y},#{h}
    </select>
    <select id="getcount" resultType="int">
        SELECT COUNT(1) FROM news
    </select>
</mapper>